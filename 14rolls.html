<link href="kanbun.css" rel="stylesheet" />
<script src="kanbun.js"></script>
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
<style>
  div.content {
    font-size: 20px;
    height: 30em;
  }
  div.box{
    background: #F5F6CE;
    border: 1px solid #999;
 }
</style>

<div class="kanbun betagumi okurigana-sinking content box" id="container">
  <p>日本書紀　巻第十四 dummy</p>
  <p>大(おほ)泊(はつ)瀬(せ)幼(わか)武(たけるの)天(すめら)皇(みこと)</p>
  <p>大泊瀬幼武天皇、雄(を)朝(あさ)津(つ)間(ま)稚(わく)子(ごの)宿(すく)禰(ねの)天(すめら)皇(みこと)第五子也。天皇、産(あ)レマシテ而神(しん)光(くわう)滿テリ[レ]殿(おおほとの)ニ、長(ひととな)リテ而伉(かう)健(けん)ニマシマスコト過ギタリ[レ]人(ひと)に。</p>
</div>

 
<script>
  function get_text(){
    axios.get('https://wanofuhito.github.io/nihon-shoki/14rolls.txt')
      .then(function (response) {
      // handle success
        let result = JSON.stringify(response.data)
        console.log(result);
        return result;
      })
     .catch(function (error) {
      // handle error
       console.log(error);
     })
     .finally(function () {
       // always executed
     });
  }
  function convert() {
  //  alert('AAA');
    var contentsArray = get_text();
  // var contentsArray = [
  //  "日本書紀　巻第十四",
  //  "大(おほ)泊(はつ)瀬(せ)幼(わか)武(たけるの)天(すめら)皇(みこと)",
  //  "大泊瀬幼武天皇、雄(を)朝(あさ)津(つ)間(ま)稚(わく)子(ごの)宿(すく)禰(ねの)天(すめら)皇(みこと)第五子也。天皇、産(あ)レマシテ而神(しん)光(くわう)滿テリ[レ]殿(おおほとの)ニ、長(ひととな)リテ而伉(かう)健(けん)ニマシマスコト過ギタリ[レ]人(ひと)に。",
  //].join("\n");
  //  alert('BBB');
    var new_contentsArray = "<p>" + contentsArray.replace(/\n/g, "</p><p>") + "</p>";
    document.getElementById("container").innerHTML =  new_contentsArray;
  }
   //alert('ZZZ');
   convert();
   convertKanbunDiv(document.getElementById("container"));
</script>
